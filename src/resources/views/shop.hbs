<div class="container list-shop">
	<h2>Shop Items</h2>
	<div class="shop">
		{{#each items}}
		<div class="card" style="width: 18rem;">
			<div class="card-body">
				<h6 class="card-title">{{this.name}}</h6>
				<img style="width: 90%; height: 20px; margin: 2px;" src="img/items/{{this.fileImage}}.png"
					class="card-img-top" alt="...">
				<p class="card-text">{{this.info}}</p>
			</div>
			<a href="/" data-bs-toggle="modal" data-bs-target="#get-item-modal" data-bs-id="{{this.name}}"
				class="btn btn-success" style="margin: 5px;">{{this.coin}}</a>
		</div>
		{{/each}}
	</div>
</div>
<form method="post" name="get-items-form"></form>

{{!-- Delete --}}
<div class="modal" id="get-item-modal" tabindex="-1">
	<div class="modal-dialog">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">Xóa người dùng?</h5>
				<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
			</div>
			<div class="modal-body">
				<p>Bạn muốn xóa người dùng này?</p>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-primary" data-bs-dismiss="modal">Hủy</button>
				<button id="btn-get-items" type="button" class="btn btn-danger">Xóa</button>
			</div>
		</div>
	</div>
</div>


<script>
	document.addEventListener("DOMContentLoaded", function () {
		var itemsName;
		var getItemsForm = document.forms['get-items-form'];


		var exampleModal = document.getElementById('get-item-modal')
		exampleModal.addEventListener('show.bs.modal', function (event) {
			var button = event.relatedTarget
			var id = button.getAttribute('data-bs-id')
			itemsName = id;
		});

		var deletebtn = document.getElementById('btn-get-items');
		deletebtn.onclick = function () {
			getItemsForm.action = '/shop/get/' + itemsName;
			getItemsForm.submit();
		}
	});
</script>